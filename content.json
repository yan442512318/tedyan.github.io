{"pages":[],"posts":[{"title":"如何在hexo嵌入plotly图片","text":"HTML Files这是最直接简单的方法，直接在markdwon里面嵌入html。 首先，在Python中生成plotly的HTML文件。 1234import plotly.graph_objects as gofig = go.Figure(data=go.Bar(y=[1, 2, 3]))fig.write_html('figure.html', auto_open=True) 运行结束后，会在当前目录生成 figure.html，并在浏览器中自动打开这个网页。我们所需要的代码是这个HTML 文件中body里div的内容. 然后，直接复制div到博文的md文件中即可。 123456789101112---title: xxxxdate: 2020-09-15 14:07:37tags:---{% raw %}&lt;div&gt;...&lt;/div&gt;{% endraw %} 以下即为展示的效果： Components上面的方法虽然简单，但是不太方便。要复制一长串的代码到md文件里面，这直接导致md文件变得冗长，启动耗时长。而且，编辑文档时，根本找不到自己的文字。所以，需要对上述的方法优化。 优化的思路是将js脚本保存在外部，然后在md文件中再引用它们，这样md文件会显得简洁得多。 回顾刚才HTML的文件，div内部主要由4个元素组成，1个div和3个script。其实，我们只需要其中 plotly.js, div元素, 绘图js 这三样就够了。 首先，把包含代码最多的&lt;script type=&quot;text/javascript&quot;&gt;...&lt;/script&gt;(第二个)里的内容单独保存成plotly.js文件。接着，将它放在theme-&gt;自己的主题-&gt;source-&gt;js当中。 然后，把绘图js&lt;script type=&quot;text/javascript&quot;&gt;...&lt;/script&gt;(最后一个)里的内容保存成figure.js文件，也将其放在与plotly.js相同的文件夹中。 最后，我们直接在md文件插入如下的内容。 1234567{% raw %}&lt;div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/js/plotly.js&quot;&gt;&lt;/script&gt; &lt;div id=&quot;3ab0ce8a-fa78-462a-bfe5-4885ee6a5100&quot; class=&quot;plotly-graph-div&quot; style=&quot;height:100%; width:100%;&quot;&gt;&lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/js/plotlyguide/figure.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;{% endraw %} Autoload Scripts上述方案解决了md文件冗长的问题，但是还有一个问题，就是每生成一个新图形，就要手动将绘图脚本保存成本地文件，非常耗时。下面用Python脚本自动保存绘图js到本地。 1234567891011121314import re import plotly.offline as offlinedef genPic(fig, filename): div = offline.plot(fig, include_plotlyjs=False, output_type='div') script = re.search('&lt;script type=&quot;text/javascript&quot;&gt;(.*?)&lt;/script&gt;',div,re.S).group(1) with open(filename, 'w') as f: f.write(script) f.close() return re.search(&quot;&lt;div id=.*?&gt;&lt;/div&gt;&quot;,div,re.S).group()print(genPic(fig, &quot;figure.js&quot;)) 只要将返回的&lt;div id='...' class='...' style='...'&gt;在md中替换，并将绘图js链接改成刚才保存的地址即可。 Reference1.Hexo-插入ployly图像2.嵌入bokeh绘图到hexo博客中","link":"/2020/09/15/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E5%B5%8C%E5%85%A5plotly%E5%9B%BE%E7%89%87/"},{"title":"互联网数据分析职业规划：基于数据角度","text":"一、报告的目的 我相信在翻看这篇报告之前，你已经在其他知识分享平台浏览了大量数据分析师的文章。这些文章包括数据分析所需要的技能、价值和职业未来，应有尽有。你可能会想，我为什么还要浪费时间看这样一篇分析报告呢？ 因为，知识平台上作者主要有两类：培训机构和已入行的分析师。培训机构为了赚钱，必定会鼓吹数据分析师的前景，而刻意隐藏入行的难度，然后推荐大量工具让我们去学习。假如你相信了，你就陷入无穷无尽工具的学习当中，被成功割了韭菜。 已入行分析师的文章比较可信，分享自身以及同事、同学的经历。成功入行的人分享自己的入行经验，在行业内迷茫的写下自己的困惑，转行的则在离开后留下吐槽。这些经验让你在不知所措，对这个职位产生迷茫。 别慌，在统计学中，单一样本很难去代表整个群体，验证事情对与错是以大量的样本为前提。这篇报告就是基于数据角度，去阐述\"数据分析师\"这个岗位的职业现状。 本报告爬取了2000+从业者的相关数据，尝试回答想要入行和刚入行的从业者关系的问题。同时，报告的图片均是交互式，每一幅上都有具体数据，大家可自行下载分析。既然想成为一名数据分析师，就要具备从大量数据中整理出信息的能力，我相信你能获得报告之外更多的结论。 二、报告的目标人群 报告主要面向两类人群： 想要进入数据行业的人员和刚成为数据分析师不久的从业者。 2.1 想要进入数据行业的人员 对于还没有入行的人来说，他们关心的首要问题是\"我通过什么样的途径才能进入这个行业\"。要回答这个问题，我们需要将该群体分为两部分：学生和转行人员。因为，这两类人在入行的过程中面临的问题是不一样的。 相对而言，学生群体进入数据行业还是较为容易的。大型企业往往喜欢自己培养新人，每年校招会放出大量岗位。同时，学生本身经验不多，考核学生的因素较为简单，可能是学校、学历、专业等。 而对于转行着来说，则要考虑的因素有很多，因为跨行业的风险着实有点大。首先，转行者往往投递是初级岗位，与他们一同竞争是有着1-3年的数据分析师。随着近几年培训班大肆鼓吹数据分析，这类岗位竞争越来越激烈。其次，转行意味着要放弃原先的行业经验，同时工资会出现下降的情况。这代表转行人员需要承受时间和金钱的成本。 2.2 刚成为数据分析师不久的从业者 对于这类人员，我也将他们划分为两类人群。一类是大厂数据分析师，他们身上有着大厂光环，但可能苦恼于被当做螺丝钉，技能发展受限，迷茫于未来发展方向。另一类是小厂数据分析师，他们往往羡慕第一类数据分析师，以进入BAT、TMD为目标，想要知道发展路径。本报告简单聊一下初级数据分析的职业规划问题。 三、数据来源及采集方法3.1 数据来源数据来自某职场社交APP(号称内地版linkedin),该APP活跃着大量互联网企业的员工。在APP上搜索”数据分析师”，会给用户推荐相关的数据分析师用户，他们个人详细页包含个人信息和职场经历。本报告就是基于这些推荐的人脉作为分析对象。 3.2 数据采集方法数据的获取方法为网络爬虫，爬取个人详情页上不涉及隐私的内容(不爬姓名、性别等信息)。由于该网站采用推荐系统推荐对应人脉，为了保证全面，所以本文采用多种检索词的组合”初级/资深/专家+数据分析”,“公司+数据分析师”,“行业+数据分析师”去获取数据分析师的人脉。具体的代码见链接. **注意：数据仅用作学习，分析完毕会自行删除。 3.3 数据系统性误差虽然目的是为了分析数据分析师的现状，但是通过上述数据获得的结论可能存在系统性误差。原因如下： 1.APP覆盖程度有大量数据分析师不上该APP(比如我的前领导…)，或者仅在该APP注册不留个人信息。假如这部分数据分析师与可爬虫的用户有较大差别，那么所有从爬取用户推广到整体的结论都是错误的。 2.推荐系统上面说了APP推荐的用户由推荐系统生成，所以它会依据{检索词，个人信息，工作信息}等参数推荐它”觉得最合适”的人脉。所以，我获得的数据分析师用户并不随机采样生成的，推荐用户很难代表整体数据分析师，存在较严重的数据偏误。由于不能控制后面两个参数，所以只能尽量使扩充检索词，比如添加公司，行业等信息，去扩大搜索范围。 尽管报告的数据可能缺乏代表性，所下结论可能完全错误，但相对于经验主义，本报告还是有一定参考价值的。 四、整体现状4.1 城市分布数据分析师大多分布在一线城市，北上广深占比约82%。所以，你想从事数据分析师，你大概率只能留在一线城市，在二线、三线城市找到合适的工作可能性比较低，当然杭州除外。 4.2 公司分布 4.3 行业分布 4.4 学历分布 五、入门大纲 整体： 校招入门和转行入门的比例 Test 校招入门 学历 学校 专业 实习 公司 转行入门 工作年份 转行前工作 公司 学历 学校 六、职业规划大纲 整体 大厂路线 跳槽路线 安稳路线 小厂路线 Reference","link":"/2020/09/11/%E4%BA%92%E8%81%94%E7%BD%91%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B8%88%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/"}],"tags":[{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"专题分析","slug":"专题分析","link":"/tags/%E4%B8%93%E9%A2%98%E5%88%86%E6%9E%90/"},{"name":"爬虫","slug":"爬虫","link":"/tags/%E7%88%AC%E8%99%AB/"}],"categories":[]}